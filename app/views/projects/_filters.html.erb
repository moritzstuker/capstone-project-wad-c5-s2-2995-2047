<div class="buttons-merged">
  <details class="dropdown">
    <summary aria-haspopup="true">
      <%= simple_format('Assigned to', { class: "button dropdown-trigger#{ ' orange' if params[:assignee].present? }" }, wrapper_tag: 'span') %>
    </summary>
    <ul class="dropdown-content">
      <% @users.each do |user| %>
        <% if @all_projects.filter_by_assignee(user).count > 0 %>
        <li role="menuitem" class="box-row">
          <%= link_to "#{ build_name(user) } (#{ @all_projects.filter_by_assignee(user).count })",
          url_for(assignee: user),
          class: "menu-item#{ ' orange-color' if params[:assignee] == user.id.to_s }" %>
        </li>
        <% end %>
      <% end %>
    </ul>
  </details>

  <details class="dropdown">
    <summary aria-haspopup="true">
      <%= simple_format('Status', { class: "button dropdown-trigger#{ ' orange' if params[:status].present? }" }, wrapper_tag: 'span') %>
    </summary>
    <ul class="dropdown-content">
      <li role="menuitem" class="box-row">
        <%= link_to "Active (#{ @all_projects.where(status: :active).count })",
        url_for(status: :active),
        class: "menu-item#{ ' orange-color' if params[:status] == 'active' }" %>
      </li>
      <li role="menuitem" class="box-row">
        <%= link_to "Inactive (#{ @all_projects.where(status: :inactive).count })",
        url_for(status: :inactive),
        class: "menu-item#{ ' orange-color' if params[:status] == 'inactive' }" %>
      </li>
    </ul>
  </details>
</div>

<div class="buttons-merged">
  <%= link_to "Your active cases", url_for(assignee: current_user, status: :active), class: 'button green' %>
  <%= link_to 'Show all', url_for, class: 'button blue' %>
</div>
