<% content_for :dashboard_title, 'Cases' %>

<div class="box">
  <!-- Main container -->
  <nav class="level">
    <!-- Left side -->
    <div class="level-left">
      <div class="level-item">
        <div class="field has-addons">
          <p class="control">
            <input class="input" type="text" placeholder="Find case">
          </p>
          <p class="control">
            <button class="button">
              Search
            </button>
          </p>
        </div>
      </div>
    </div>

    <!-- Right side -->
    <div class="level-right">
      <p class="level-item"><a>My cases (<%= @my_projects.count %>)</a></p>
      <p class="level-item"><strong>All cases (<%= @projects.count %>)</strong></p>
      <div class="level-item"><%= link_to 'New Case', new_project_path, class: 'button is-info' %></div>
    </div>
  </nav>

  <div class="view_table">
    <div class="view_table-row">
      <div class="view_table-cell">
        <span class="has-text-weight-semibold">Client</span>
      </div>
      <div class="view_table-cell">
        <span class="has-text-weight-semibold">Case name</span>
      </div>
      <div class="view_table-cell">
        <span class="has-text-weight-semibold">Description</span>
      </div>
      <div class="view_table-cell">
        <span class="has-text-weight-semibold">Handled by</span>
      </div>
    </div>
    <% @projects.each do |project| %>
      <%= link_to project, class: 'view_table-row' do %>
      <div class="view_table-cell project_client">
        CLIENT
      </div>
      <div class="view_table-cell project_name">
        <%= project.name %>
      </div>
      <div class="view_table-cell project_description">
        <%= truncate(project.description, :length => 100) %>
      </div>
      <div class="view_table-cell project_owner">
        <%= project.owner.name %>
      </div>
      <% end %>
    <% end %>
  </div>
</div>
