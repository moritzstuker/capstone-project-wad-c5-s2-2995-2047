<%= form_with(model: deadline, local: true) do |form| %>
<%= render 'form_errors', obj: deadline %>

<div class="row">
  <div class="col">
    <div class="box">
      <div class="form-field">
        <%= form.label :label, "#{ t('deadlines.fields.label') }*", id: :deadline_label %>
        <%= form.text_field :label, id: :deadline_label %>
      </div>

      <div class="form-field">
        <%= form.label :date, "#{ t('deadlines.fields.date') }*", id: :deadline_date %>
        <%= form.date_field :date, id: :deadline_date %>
      </div>

      <div class="form-field">
        <%= form.label :category, "#{ t('deadlines.fields.category') }*", id: :deadline_category %>
        <%= form.select :category, Deadline::CATEGORIES, id: :deadline_category %>
      </div>
    </div>
  </div>
    <div class="col">
      <div class="box">
        <div class="form-field">
          <%= form.label :project, "#{ t('deadlines.fields.project') }*", id: :deadline_project %>
          <%= form.select :project, Project.all.order(:label).collect {|p| [ p.label.capitalize, p.id ] }, { include_blank: true }, id: :deadline_project %>
        </div>

        <div class="form-field">
          <%= form.label :assignee, "#{ t('deadlines.fields.assigned_to') }*", id: :deadline_assignee %>
          <%= form.select :assignee, User.lawyers.order(role: :desc, name: :asc).collect { |user| ["#{ user.name } (#{ user.role.capitalize })", user.id] }, id: :deadline_assignee %>
        </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col">
    <div class="box">
      <div class="form-action">
        <span class="mute small">* Required fields.</span>
        <span class="push button-group">
          <%= link_to t('helpers.form.back'), deadline, class: 'button outline' %>
          <%= form.submit 'CrÃ©er deadline', class: 'button blue push' %>
        </span>
      </div>
    </div>
  </div>
</div>
<% end %>
